{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"\"use strict\";\n\nvar memory = {\n    rows: 2,\n    cols: 4,\n    count: 0,\n    pairedPics: 0,\n    pictureArray: [],\n    init:function(){\n        NodeList.prototype.forEach = Array.prototype.forEach;\n        \n        memory.pictureArray = RandomGenerator.getPictureArray(memory.rows, memory.cols);\n        \n        var memoryArea = document.getElementById(\"memoryArea\");\n        var table = document.createElement(\"table\");\n        var tableBody = document.createElement(\"tbody\");\n        var k = 0;\n        \n        var h1 = document.createElement(\"h1\");\n        h1.innerHTML = \"Memory\";\n        \n        memoryArea.appendChild(h1);\n        \n        \n        for (var i = 0; i < memory.rows; i++) {\n            var tr = document.createElement(\"tr\");\n            \n            for (var j = 0; j < memory.cols; j++) {\n                \n                var td = document.createElement(\"td\");\n                var a = document.createElement(\"a\");\n                a.setAttribute(\"href\", \"#\");\n                td.appendChild(a);\n                \n                var img = document.createElement(\"img\");\n                img.setAttribute(\"src\", \"pics/0.png\");\n                img.classList.add(\"down\");\n                \n                a.appendChild(img);\n                \n                tr.appendChild(td);\n                \n                k += 1;\n            }\n            tableBody.appendChild(tr);\n        }\n        table.appendChild(tableBody);\n        memoryArea.appendChild(table);\n        \n        var as = document.querySelectorAll(\"a\");\n        \n        var last;\n        var timeOutId;\n        \n        as.forEach(function(a, index){\n            a.addEventListener(\"click\", function(e){\n                e.preventDefault();\n                \n                window.clearTimeout(timeOutId);\n                \n                if (!a.firstChild.classList.contains(\"up\") && !a.firstChild.classList.contains(\"paired\")) {\n                \n                    window.clearTimeout(timeOutId);\n                \n                    if (memory.pictureArray[index] === last) {\n                        a.firstChild.classList.toggle(\"up\");\n                        a.firstChild.setAttribute(\"src\", \n                            \"pics/\"+memory.pictureArray[index]+\".png\");\n                        \n                        as.forEach(function(a){\n                            if (a.firstChild.classList.contains(\"up\")) {\n                                a.firstChild.classList.remove(\"up\");\n                                a.firstChild.classList.add(\"paired\");\n                            }\n                        });\n                        \n                        memory.count = 0;\n                        \n                        last = null;\n                        \n                        memory.pairedPics += 1;\n                        \n                        p.innerHTML= \"Matcha \"+((memory.cols*memory.rows/2)-memory.pairedPics)+\" st par till för att vinna!\";\n                        \n                        if (memory.pairedPics === (memory.cols*memory.rows / 2)) {\n                            p.innerHTML= \"Grattis, du klarade det!\";\n                        }\n                    }\n                    \n                    else {\n                        if (memory.count === 0) {\n                            a.firstChild.classList.toggle(\"up\");\n                            a.firstChild.classList.toggle(\"down\");\n                            a.firstChild.setAttribute(\"src\", \n                                \"pics/\"+memory.pictureArray[index]+\".png\");\n                            \n                            last = memory.pictureArray[index];\n                            \n                            memory.count += 1;\n                        }\n                        else if (memory.count === 1) {\n                            a.firstChild.classList.toggle(\"up\");\n                            a.firstChild.classList.toggle(\"down\");\n                            a.firstChild.setAttribute(\"src\", \n                                \"pics/\"+memory.pictureArray[index]+\".png\");\n                            \n                            last = memory.pictureArray[index];\n                            memory.count += 1;\n                            \n                            window.setTimeout(function(){\n                                as.forEach(function(a){\n                                    if (a.firstChild.classList.contains(\"up\")) {\n                                        a.firstChild.classList.remove(\"up\");\n                                        a.firstChild.classList.toggle(\"down\");\n                                        \n                                        a.firstChild.setAttribute(\"src\", \"pics/0.png\");\n                                    }\n                                    memory.count = 0;\n                                });\n                                last = null;\n                            }, 1000);\n                        }\n                    }\n                }\n                \n                console.log(last);\n                \n                return false;\n            });\n        });\n    var p = document.createElement(\"p\");\n    p.innerHTML= \"Matcha \"+((memory.cols*memory.rows/2)-memory.pairedPics)+\" st par till för att vinna!\";\n    memoryArea.appendChild(p);\n    }\n};\nwindow.onload = memory.init;\n\n","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":18,"column":46},"end":{"row":19,"column":0},"action":"insert","lines":["",""]},{"start":{"row":19,"column":0},"end":{"row":19,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":8},"end":{"row":19,"column":9},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":9},"end":{"row":19,"column":10},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":10},"end":{"row":19,"column":11},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":11},"end":{"row":19,"column":12},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":12},"end":{"row":19,"column":13},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":13},"end":{"row":19,"column":14},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":14},"end":{"row":19,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":11},"end":{"row":19,"column":15},"action":"remove","lines":["inne"]},{"start":{"row":19,"column":11},"end":{"row":19,"column":20},"action":"insert","lines":["innerHTML"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":23},"end":{"row":19,"column":25},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":25},"end":{"row":19,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":31},"end":{"row":19,"column":32},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":32},"end":{"row":20,"column":0},"action":"insert","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":8},"end":{"row":21,"column":0},"action":"insert","lines":["",""]},{"start":{"row":21,"column":0},"end":{"row":21,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":8},"end":{"row":21,"column":9},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":9},"end":{"row":21,"column":10},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":10},"end":{"row":21,"column":11},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":11},"end":{"row":21,"column":12},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":8},"end":{"row":21,"column":12},"action":"remove","lines":["memo"]},{"start":{"row":21,"column":8},"end":{"row":21,"column":18},"action":"insert","lines":["memoryArea"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":18},"end":{"row":21,"column":19},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":19},"end":{"row":21,"column":20},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":20},"end":{"row":21,"column":21},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":21},"end":{"row":21,"column":22},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":19},"end":{"row":21,"column":22},"action":"remove","lines":["app"]},{"start":{"row":21,"column":19},"end":{"row":21,"column":32},"action":"insert","lines":["appendChild()"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":31},"end":{"row":21,"column":32},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":32},"end":{"row":21,"column":33},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":34},"end":{"row":21,"column":35},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":54},"end":{"row":36,"column":0},"action":"insert","lines":["",""]},{"start":{"row":36,"column":0},"end":{"row":36,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":16},"end":{"row":36,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":17},"end":{"row":36,"column":18},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":18},"end":{"row":36,"column":19},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":19},"end":{"row":36,"column":20},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":21},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":21},"end":{"row":36,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":22},"end":{"row":36,"column":23},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":23},"action":"remove","lines":["set"]},{"start":{"row":36,"column":20},"end":{"row":36,"column":34},"action":"insert","lines":["setAttribute()"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":33},"end":{"row":36,"column":35},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":34},"end":{"row":36,"column":35},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":33},"end":{"row":36,"column":34},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":32},"end":{"row":36,"column":34},"action":"remove","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":31},"end":{"row":36,"column":32},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":30},"end":{"row":36,"column":31},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":29},"end":{"row":36,"column":30},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":28},"end":{"row":36,"column":29},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":27},"end":{"row":36,"column":28},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":26},"end":{"row":36,"column":27},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":25},"end":{"row":36,"column":26},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":24},"end":{"row":36,"column":25},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":23},"end":{"row":36,"column":24},"action":"remove","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":22},"end":{"row":36,"column":23},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":21},"end":{"row":36,"column":22},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":21},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":21},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":21},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":21},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":21},"end":{"row":36,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":22},"end":{"row":36,"column":23},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":20},"end":{"row":36,"column":23},"action":"remove","lines":["cla"]},{"start":{"row":36,"column":20},"end":{"row":36,"column":29},"action":"insert","lines":["classList"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":29},"end":{"row":36,"column":30},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":30},"end":{"row":36,"column":31},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":31},"end":{"row":36,"column":32},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":32},"end":{"row":36,"column":33},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":33},"end":{"row":36,"column":35},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":34},"end":{"row":36,"column":36},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":35},"end":{"row":36,"column":36},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":36},"end":{"row":36,"column":37},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":37},"end":{"row":36,"column":38},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":38},"end":{"row":36,"column":39},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":41},"end":{"row":36,"column":42},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":64},"end":{"row":91,"column":0},"action":"insert","lines":["",""]},{"start":{"row":91,"column":0},"end":{"row":91,"column":28},"action":"insert","lines":["                            "]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":28},"end":{"row":91,"column":64},"action":"insert","lines":["a.firstChild.classList.toggle(\"up\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":60},"end":{"row":91,"column":61},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":59},"end":{"row":91,"column":60},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":59},"end":{"row":91,"column":60},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":60},"end":{"row":91,"column":61},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":61},"end":{"row":91,"column":62},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":62},"end":{"row":91,"column":63},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":64},"end":{"row":101,"column":0},"action":"insert","lines":["",""]},{"start":{"row":101,"column":0},"end":{"row":101,"column":28},"action":"insert","lines":["                            "]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":28},"end":{"row":102,"column":66},"action":"insert","lines":["","                            a.firstChild.classList.toggle(\"down\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":64},"end":{"row":101,"column":28},"action":"remove","lines":["","                            "]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":76},"end":{"row":112,"column":0},"action":"insert","lines":["",""]},{"start":{"row":112,"column":0},"end":{"row":112,"column":40},"action":"insert","lines":["                                        "]}]}],[{"group":"doc","deltas":[{"start":{"row":112,"column":40},"end":{"row":113,"column":66},"action":"insert","lines":["","                            a.firstChild.classList.toggle(\"down\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":76},"end":{"row":112,"column":40},"action":"remove","lines":["","                                        "]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":76},"end":{"row":112,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":111,"column":76},"end":{"row":111,"column":104},"action":"remove","lines":["                            "]},{"start":{"row":111,"column":76},"end":{"row":112,"column":0},"action":"insert","lines":["",""]},{"start":{"row":112,"column":0},"end":{"row":112,"column":40},"action":"insert","lines":["                                        "]}]}],[{"group":"doc","deltas":[{"start":{"row":120,"column":25},"end":{"row":124,"column":25},"action":"remove","lines":["","                        if (memory.count === 1) {","                            ","                            ","                        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":16},"end":{"row":62,"column":0},"action":"insert","lines":["",""]},{"start":{"row":62,"column":0},"end":{"row":62,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":16},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":0},"end":{"row":63,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":16},"end":{"row":62,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":20},"end":{"row":62,"column":51},"action":"insert","lines":["window.clearTimeout(timeOutId);"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":72},"end":{"row":71,"column":82},"action":"remove","lines":["","                                //a.parentNode.innerHTML = a.firstChild.innerHTML;"]}]}]]},"ace":{"folds":[],"scrolltop":1680,"scrollleft":0,"selection":{"start":{"row":76,"column":41},"end":{"row":76,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":97,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1418286669871}